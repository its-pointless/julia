--- ../JuliaLang-libuv-be31734/src/unix/process.c	2018-03-22 01:34:26.000000000 -0400
+++ ./src/unix/process.c	2018-03-27 19:27:52.757267757 -0400
@@ -33,6 +33,10 @@
 #include <fcntl.h>
 #include <poll.h>
 #include <signal.h>
+#ifdef __ANDROID__
+/* termux_gcc needs bthread-dev */
+#include <bthread.h>
+#endif
 
 #if defined(__APPLE__) && !TARGET_OS_IPHONE
 # include <crt_externs.h>
--- ./src/unix/thread.c.orig	2019-02-11 19:25:23.624910457 -0500
+++ ./src/unix/thread.c	2019-02-11 19:28:45.300903847 -0500
@@ -210,7 +210,7 @@
 }
 
 
-#if defined(__linux__) || defined(__FreeBSD__)
+#if defined(__linux__) && !defined(__ANDROID__) || defined(__FreeBSD__)
 
 int uv_thread_setaffinity(uv_thread_t* tid,
                           char* cpumask,
